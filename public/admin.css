/* ═══════════════════════════════════════════════════════
   admin.css — Panel de administración Dulce Mocka
   ═══════════════════════════════════════════════════════ */
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,system-ui,Arial,sans-serif}
:root{--sidebar-w:260px;--purple:#6b5bff;--purple-dark:#5548cc;--bg:#f4f6fb;--card:#fff;--text:#222;--muted:#6b7280;--border:#e5e7eb;--success:#22c55e;--warning:#f59e0b;--danger:#ef4444;--info:#3b82f6;--primary:#6b5bff}

/* ── Layout ── */
.admin-layout{display:flex;min-height:100vh;background:var(--bg)}

/* ── Sidebar ── */
.admin-sidebar{width:var(--sidebar-w);background:linear-gradient(180deg,#1e1b4b,#312e81);color:#fff;display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;transition:transform .3s}
.sidebar-brand{padding:1.5rem 1.25rem;text-align:center;border-bottom:1px solid rgba(255,255,255,.08)}
.brand-icon{font-size:2rem;display:block;margin-bottom:.25rem}
.sidebar-brand h1{font-size:1.15rem;margin:0;font-weight:700}
.sidebar-brand small{color:rgba(255,255,255,.5);font-size:.75rem}

.sidebar-nav{flex:1;padding:.75rem 0;display:flex;flex-direction:column;gap:.15rem}
.nav-item{display:flex;align-items:center;gap:.6rem;padding:.75rem 1.25rem;background:none;border:none;color:rgba(255,255,255,.7);font-size:.92rem;cursor:pointer;text-align:left;text-decoration:none;transition:all .15s;border-radius:0;position:relative}
.nav-item:hover{background:rgba(255,255,255,.08);color:#fff}
.nav-item.active{background:rgba(255,255,255,.12);color:#fff;font-weight:700;border-left:3px solid #a78bfa}
.sidebar-footer{border-top:1px solid rgba(255,255,255,.08);padding:.5rem 0}
.sidebar-footer .nav-item.logout{color:#fca5a5}
.sidebar-footer .nav-item.logout:hover{background:rgba(239,68,68,.15);color:#feb2b2}

/* ── Topbar ── */
.admin-main{margin-left:var(--sidebar-w);flex:1;display:flex;flex-direction:column}
.admin-topbar{background:var(--card);padding:.75rem 1.5rem;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 3px rgba(0,0,0,.06);position:sticky;top:0;z-index:50}
.admin-topbar h2{font-size:1.15rem;color:var(--text);flex:1}
.menu-toggle{display:none;background:none;border:none;font-size:1.4rem;cursor:pointer;margin-right:.75rem}
.topbar-user{display:flex;align-items:center;gap:.6rem}
.topbar-user span{font-weight:600;color:var(--text);font-size:.9rem}
.admin-avatar{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#7b61ff,#c776ff);color:#fff;font-weight:700;display:flex;align-items:center;justify-content:center;font-size:.95rem}

/* ── Content ── */
.admin-content{padding:1.5rem;flex:1}
.section{display:none}
.section.active{display:block}

/* ── Cards ── */
.card{background:var(--card);border-radius:14px;box-shadow:0 2px 12px rgba(0,0,0,.04);padding:1.25rem;margin-bottom:1.25rem}
.card h3{font-size:1.05rem;color:var(--text);margin-bottom:1rem;padding-bottom:.6rem;border-bottom:1px solid var(--border)}

/* ── Stats ── */
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-bottom:1.5rem}
.stat-card{background:var(--card);border-radius:14px;padding:1.25rem;display:flex;align-items:center;gap:1rem;box-shadow:0 2px 12px rgba(0,0,0,.04);border-left:4px solid var(--border)}
.stat-purple{border-left-color:#7b61ff}
.stat-blue{border-left-color:#3b82f6}
.stat-orange{border-left-color:#f59e0b}
.stat-green{border-left-color:#22c55e}
.stat-icon{font-size:2rem;width:52px;height:52px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:#f5f3ff}
.stat-purple .stat-icon{background:#f5f3ff}
.stat-blue .stat-icon{background:#eff6ff}
.stat-orange .stat-icon{background:#fffbeb}
.stat-green .stat-icon{background:#f0fdf4}
.stat-value{font-size:1.5rem;font-weight:800;color:var(--text)}
.stat-label{color:var(--muted);font-size:.85rem}

.dash-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem}

/* ── Status pills ── */
.status-pills{display:flex;flex-wrap:wrap;gap:.5rem}
.status-pill{display:flex;align-items:center;gap:.35rem;padding:.5rem .75rem;background:#f9fafb;border-radius:10px;border:1px solid var(--border)}

/* ── Sales bars ── */
.sales-bars{display:flex;flex-direction:column;gap:.4rem}
.sales-bar-item{display:flex;align-items:center;gap:1rem;padding:.5rem .75rem;background:#f9fafb;border-radius:8px}
.sales-label{font-weight:600;color:var(--text);min-width:80px}
.sales-value{color:var(--muted);font-size:.9rem}

/* ── Tables ── */
.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.25rem}
.section-header h3{margin:0;font-size:1.2rem}
.table-wrap{background:var(--card);border-radius:14px;box-shadow:0 2px 12px rgba(0,0,0,.04);overflow-x:auto}
.admin-table{width:100%;border-collapse:collapse}
.admin-table thead th{background:#f9fafb;padding:.9rem 1rem;text-align:left;font-size:.82rem;text-transform:uppercase;color:var(--muted);font-weight:700;border-bottom:2px solid var(--border)}
.admin-table tbody td{padding:.85rem 1rem;border-bottom:1px solid #f3f4f6;color:var(--text);font-size:.92rem;vertical-align:middle}
.admin-table tbody tr:hover{background:#fafbff}
.admin-table tbody tr:last-child td{border-bottom:none}
.admin-table.compact{font-size:.88rem}
.admin-table.compact thead th{padding:.6rem .75rem}
.admin-table.compact tbody td{padding:.5rem .75rem}

/* ── Badges ── */
.badge{display:inline-block;padding:.25rem .6rem;border-radius:999px;font-size:.78rem;font-weight:700}
.badge-success{background:#dcfce7;color:#166534}
.badge-warning{background:#fef3c7;color:#92400e}
.badge-danger{background:#fee2e2;color:#991b1b}
.badge-info{background:#dbeafe;color:#1e40af}
.badge-primary{background:#ede9fe;color:#5b21b6}
.badge-default{background:#f3f4f6;color:#374151}

/* ── Buttons ── */
.btn{background:linear-gradient(90deg,#7b61ff,#9555d6);color:#fff;padding:.55rem 1rem;border-radius:8px;border:none;cursor:pointer;font-weight:600;font-size:.9rem;transition:opacity .15s;text-decoration:none;display:inline-flex;align-items:center;gap:.3rem}
.btn:hover{opacity:.9}
.btn.outline{background:transparent;border:1.5px solid var(--border);color:var(--text)}
.btn.outline:hover{border-color:#7b61ff;color:#7b61ff}
.btn.small{padding:.35rem .6rem;font-size:.82rem}
.btn.danger{border-color:#fca5a5;color:var(--danger)}
.btn.danger:hover{background:#fef2f2}

.status-select{padding:.35rem .5rem;border:1.5px solid var(--border);border-radius:8px;font-size:.82rem;cursor:pointer;background:#fff}
.status-select:focus{border-color:#7b61ff;outline:none}

/* ── Forms ── */
.form-group{margin-bottom:1rem}
.form-group label{display:block;font-weight:600;color:#333;margin-bottom:.35rem;font-size:.88rem}
.form-group input,.form-group select,.form-group textarea{width:100%;padding:.65rem .85rem;border:1.5px solid var(--border);border-radius:10px;font-size:.92rem;font-family:inherit;background:#fafbfd;transition:border-color .2s,box-shadow .2s}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:#7b61ff;box-shadow:0 0 0 3px rgba(123,97,255,.12);background:#fff}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
.checkbox-group{display:flex;align-items:center;margin-top:1.5rem}
.checkbox-label{display:flex!important;align-items:center;gap:.5rem;cursor:pointer;font-weight:500!important}
.checkbox-label input[type="checkbox"]{width:18px;height:18px;accent-color:#7b61ff}
.form-actions{display:flex;align-items:center;gap:.75rem;margin-top:1.25rem}
.form-msg{font-size:.88rem;font-weight:600}
.form-msg.success{color:var(--success)}
.form-msg.error{color:var(--danger)}

/* ── Modals ── */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:500;align-items:center;justify-content:center}
.modal-overlay.open{display:flex}
.modal-card{background:#fff;border-radius:16px;padding:1.75rem;width:95%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 12px 40px rgba(0,0,0,.2);animation:modalIn .2s ease}
.modal-card.modal-lg{max-width:750px}
@keyframes modalIn{from{opacity:0;transform:translateY(20px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}
.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.25rem}
.modal-header h3{margin:0;font-size:1.15rem;color:var(--text)}
.modal-close{background:none;border:none;font-size:1.2rem;color:#999;cursor:pointer;padding:.25rem;border-radius:6px}
.modal-close:hover{background:#f5f3ff;color:#6b5bff}

/* ── Order detail ── */
.order-detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;margin-bottom:1.25rem;padding:1rem;background:#f9fafb;border-radius:10px}
.order-detail-grid div{font-size:.9rem;color:var(--text)}
.order-detail h4{margin:1rem 0 .5rem;font-size:1rem}
.order-totals{text-align:right;margin-top:1rem;padding-top:.75rem;border-top:1px solid var(--border);font-size:.95rem;color:var(--muted)}
.order-totals .total-big{font-size:1.25rem;color:#ff9f1c;font-weight:800;margin-top:.25rem}

/* ── Misc ── */
.empty{text-align:center;padding:2rem;color:var(--muted);font-size:.95rem}
code{background:#f3f4f6;padding:.15rem .4rem;border-radius:4px;font-size:.85rem;font-family:'Fira Code',Consolas,monospace}

/* ── Ingredients grid (product modal) ── */
.form-hint{font-size:.82rem;color:var(--muted);margin-bottom:.75rem}
.ingredients-grid{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;max-height:300px;overflow-y:auto;padding:.5rem;background:#f9fafb;border:1.5px solid var(--border);border-radius:10px}
.ingredient-item{background:#fff;border:1.5px solid var(--border);border-radius:10px;padding:.65rem .85rem;transition:border-color .2s,box-shadow .2s}
.ingredient-item.selected{border-color:#7b61ff;box-shadow:0 0 0 2px rgba(123,97,255,.12);background:#f5f3ff}
.ing-select{margin-bottom:0!important}
.ing-name{font-weight:600;font-size:.9rem}
.ing-options{margin-top:.45rem;padding-top:.4rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:.25rem}
.ing-options.hidden{display:none}
.checkbox-label.small{font-size:.8rem!important}
.checkbox-label.small span{font-size:.8rem;font-weight:400;color:var(--muted)}

/* ═══ RESPONSIVE ═══ */
@media(max-width:900px){
  .admin-sidebar{transform:translateX(-100%)}
  .admin-sidebar.open{transform:translateX(0)}
  .admin-main{margin-left:0}
  .menu-toggle{display:block}
  .dash-grid{grid-template-columns:1fr}
  .form-row{grid-template-columns:1fr}
  .order-detail-grid{grid-template-columns:1fr}
}
@media(max-width:600px){
  .stats-grid{grid-template-columns:1fr 1fr}
  .admin-content{padding:1rem}
}

/* ═══ Toast & Order Notifications ═══ */
@keyframes slideInToast{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
.nav-badge{position:absolute;top:6px;right:10px;background:#ef4444;color:#fff;font-size:.65rem;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 5px;line-height:1;animation:badgePulse 2s ease infinite}
@keyframes badgePulse{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}
